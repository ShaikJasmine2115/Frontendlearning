<html>
    <head>
        <title>Product Management System</title>
        <style>
        header {
            font-family: Arial, sans-serif; 
            background-color: #2c3e50; /* Dark background */
            color: white; /* White text */
            text-align: center; /* Center text */
            padding: 20px; /* Padding for header */
        }
        body {
            font-family: Arial, sans-serif;
        }
        
        .cname{
            font-size: small;
            font-family: Arial, sans-serif; 
            background-color: #8995a1; /* Dark background */
            color: white; /* White text */
            text-align: center; /* Center text */
            padding: 2px; /* Padding for header */
        }
        footer {
            text-align: center; /* Center text */
            padding: 10px; /* Padding for footer */
            background-color: #2c3e50; /* Dark background */
            color: white; /* White text */
            position: relative; /* Position footer */
        }
        .viewpd {
            display: block;
            margin: 0 auto;
            margin-top: 20px;
           /* padding: 15px;  Padding inside button 
            content: center;
            margin-left: 100px;
           /*  background-color: #2c3e50; Dark background for button */
           /* color: rgb(113, 88, 88); /* White text 
            /*  border: none;  Remove default border 
            border-radius: 4px;Rounded corners for button */
            /* Pointer cursor for button */
            /* Font size for button */
            /* Margin to separate from input */
        }
        button:hover {
            cursor: pointer ;   
            background-color: #d5daeb; /* Color when hovered */
            color: black; /* Text color when hovered */
            }
        .btn {
            float: inline-end;
         margin-right:  100px;
        }
        
         /*.viewpd {
           background-color: #34495e;  Darker background on hover} */
        h2{
            padding: 5px;
            text-align: center;
            font-family: Arial, sans-serif; 
            background-color: #8995a1;
            border-radius: 20px;
            color: white;
        }
        .disp{
            text-align: center;
        }
     
        </style>
    </head>
    <body>
        <header>
            <h1>Manufacturing Company Dashboard</h1>
        </header>
        <div class="content">
            <div class="welcome">
                Welcome, User! 
                <span class="logout-link" onclick="logout()">Logout</span>
            </div>
        <div class="cname">
            <h1>Chocolate manufacturers</h1>
        </div>
        
        <button class="viewpd" id="view">View all products</button>
  
       <!-- <table id="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>ITEM</th>
                <th>PRICE</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>-->     
       <div class="disp">
        <br>
        <span id="dx"></span>
    </div>
       <ul id="display"></ul>
    
     <hr>
        <h2>Add new product</h2>

       
        <label for ="pid">Product ID</label> 
        <input id="pid" type="text" required> &nbsp;&nbsp;
          
        <label for ="pname">Product name</label> 
        <input id="pname" type="text" required>&nbsp;&nbsp;

        <label for ="pprice">Product price</label> 
        <input id="pprice" type="text">&nbsp;
        

        <button class="btn" id="addbtn">Add product</button> <br>
   
        <span id="span"></span>
        <hr>
        <h2>Update the product</h2>
       Update price of -ID &nbsp;&nbsp;
        <input id="updateid" type="text" placeholder="Enter item ID"> &nbsp;&nbsp;
      Update price of &nbsp;&nbsp;
        <input id="updatename" type="text" placeholder="Enter item name"> &nbsp;&nbsp;
        Update price to&nbsp;&nbsp;
        <input id="updateprice" type="number" placeholder="Enter price "> &nbsp;&nbsp;
        <button class="btn" id="updatebtn">Update product's price</button> <br> 
        <span id="span2"></span>

        <hr>
        <h2>Discounted products</h2>
        <label for="getdiscount">Percentage</label>      
       <input id="getdiscount"; type="text"> 
       <button class="btn" id="discountbtn" type="submit">Apply</button>
       <span id="span3"></span>
       <ul id="ul2"></ul>
    <footer>
        Â© 2024 Manufacturing Company. All rights reserved.
    </footer>

    </body>
    <!-- <script>
        window.onload = function() {
            // Check if the user is logged in
            if (!sessionStorage.getItem("loggedIn")) {
                document.getElementById("loginError").innerText = "You must be logged in to perform this action.";
                setTimeout(function() {
                    window.location.href = "login.html"; // Redirect if not logged in
                }, 3000);
            }
        };

        const products=[
    {id:1,Item:'Dairy milk', price:180},
    {id:2,Item:'5Star', price:30},
    {id:3,Item:'Snickers', price:120}
];
function viewall()
{
    return products;
}
function displayall(op)
{
    const display=document.getElementById("display");
    display.innerHTML="";
    const dx=document.getElementById("dx");
    dx.textContent="Available products are:"
    op.forEach(product=>{
        const listitem=document.createElement('li');
        listitem.textContent=`${product.id} - ${product.Item} - ${product.price}`;
        display.appendChild(listitem);
      })
}
function addproduct(prd)
{
    if(!products.find((j)=> (j.id==prd.pid && j.Item==prd.pname)))
    {
        let x={};
        x.id=prd.pid;
        x.Item=prd.pname;
        x.price=prd.pprice;
        products.push(x);
        return 1;
        console.log("added");
    }
    else{
        //console.log("Already exists");
        return 0;
    }
}
function displayadded(returned)
    {
        const dis=document.getElementById("span");
        if (returned==0)
        {
             dis.innerHTML="Product already exists";
        }
        else 
        {
            dis.innerHTML="Product added";
        }  
    }
function updateprice(prdupdate)
{
    const pdtoupdate=products.find(x => x.id==prdupdate.pid);
    if (pdtoupdate)
    {
        pdtoupdate.Item=prdupdate.pname;
        pdtoupdate.price=prdupdate.pprice;
        return true;
    }
    return false;
    
    displayall(viewall());
}
function displayupdated(returns)
{
    const dis=document.getElementById("span2");
        if (returns==0)
        {
             dis.innerHTML="New element- Go to 'add products'";
        }
        else 
        {
            dis.innerHTML="Product updated";
        }  
}
function applydiscount(disc)
{
    products.map(x=>(x.price= x.price-(x.price/100 * disc)))
    return products;
}
function displaydiscounted(products)
{
    const display=document.getElementById("ul2");
    display.innerHTML="";
    const dx=document.getElementById("span3");
    dx.textContent="Products after discount are:"
    products.forEach(product=>{
        const listitem=document.createElement('li');
        listitem.textContent=`${product.id} - ${product.Item} - ${product.price}`;
        display.appendChild(listitem);
      })
}


document.addEventListener("DOMContentLoaded", ()=> {
        const viewing=document.getElementById("view");
        viewing.addEventListener("click", ()=>{
        displayall(viewall());
        })    
            const adding= document.getElementById("addbtn");
            adding.addEventListener("click", ()=>{
                const pid=document.getElementById("pid").value;
                const pname=document.getElementById("pname").value;
                const pprice=document.getElementById("pprice").value;
                displayadded(addproduct({pid:pid,pname:pname,pprice:pprice}));    
         })
            const updating=document.getElementById("updatebtn");
            updating.addEventListener("click", ()=>{
                const updatepid=document.getElementById("updateid").value;
                const updatepdname=document.getElementById("updatename").value;
                const updatepdprice=document.getElementById("updateprice").value;
                displayupdated(updateprice({pid:updatepid,pname:updatepdname,pprice:updatepdprice}));
        })
            const discounting=document.getElementById("discountbtn");
            discounting.addEventListener("click", ()=>{
                const discpercent=document.getElementById("getdiscount");
                displaydiscounted(applydiscount(discpercent.value));

            })
        
    })

    </script> -->
</html>